<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Live Code Playground | WebDev Academy</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <!-- Font Awesome for icons -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <!-- Main site CSS (reuse your academy's CSS variables and style) -->
  <style>
    :root {
      --primary: #4361ee;
      --secondary: #3a0ca3;
      --accent: #f7df1e;
      --success: #1dd1a1;
      --danger: #e71d36;
      --border-radius: 12px;
      --bg: #f8f9fa;
      --text: #222;
      --card-bg: #fff;
      --shadow: 0 4px 24px rgba(67,97,238,0.08);
    }
    body {
      background: var(--bg);
      color: var(--text);
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      margin: 0;
      padding: 0;
    }
    .container {
      max-width: 1100px;
      margin: 2rem auto;
      background: var(--card-bg);
      border-radius: var(--border-radius);
      box-shadow: var(--shadow);
      padding: 2rem;
    }
    h1 {
      color: var(--primary);
      text-align: center;
      margin-bottom: 1.5rem;
    }
    .editor-flex {
      display: flex;
      flex-wrap: wrap;
      gap: 2rem;
      margin-bottom: 1.5rem;
    }
    .editor-panel, .preview-panel {
      flex: 1 1 320px;
      min-width: 260px;
      display: flex;
      flex-direction: column;
      gap: 1rem;
    }
    label {
      font-weight: 600;
      color: var(--secondary);
      margin-bottom: 0.2em;
    }
    .code-textarea {
      width: 100%;
      min-height: 80px;
      max-height: 300px;
      border-radius: 8px;
      border: 1px solid #e0e0e0;
      padding: 0.8em 1em;
      font-size: 1em;
      font-family: 'Fira Mono', 'Consolas', monospace;
      background: #f7f7fb;
      resize: vertical;
      transition: border 0.2s;
    }
    .code-textarea:focus {
      border: 1.5px solid var(--primary);
      outline: none;
      background: #fff;
    }
    .preview-panel iframe {
      width: 100%;
      height: 260px;
      border-radius: 10px;
      border: 1.5px solid #e0e0e0;
      background: #fff;
      box-shadow: 0 2px 12px rgba(67,97,238,0.06);
    }
    .console-output {
      background: #222;
      color: var(--accent);
      padding: 1em;
      border-radius: 8px;
      min-height: 40px;
      font-family: 'Fira Mono', 'Consolas', monospace;
      font-size: 1em;
      margin-top: 0.5em;
      white-space: pre-wrap;
      box-shadow: 0 2px 8px rgba(67,97,238,0.04);
    }
    .toolbar {
      display: flex;
      gap: 1em;
      align-items: center;
      margin-bottom: 1em;
      flex-wrap: wrap;
    }
    .toolbar label {
      margin: 0;
      font-weight: 500;
      color: var(--primary);
    }
    .toolbar button, .toolbar input[type="file"] + label {
      background: var(--primary);
      color: #fff;
      border: none;
      border-radius: 20px;
      padding: 0.5em 1.3em;
      font-weight: 600;
      cursor: pointer;
      font-size: 1em;
      transition: background 0.18s;
      margin-right: 0.5em;
    }
    .toolbar button:hover, .toolbar input[type="file"] + label:hover {
      background: var(--secondary);
    }
    .toolbar input[type="file"] {
      display: none;
    }
    @media (max-width: 900px) {
      .editor-flex { flex-direction: column; }
      .editor-panel, .preview-panel { min-width: 0; }
    }

    @media (max-width: 600px) {
  .container {
    padding: 0.7rem;
  }
  .editor-panel, .preview-panel {
    gap: 0.7rem;
  }
  .code-textarea {
    font-size: 0.95em;
    min-height: 120px;
    max-height: 220px;
  }
  .preview-panel iframe {
    height: 180px;
  }
  .console-output {
    font-size: 0.95em;
    min-height: 30px;
    overflow-x: auto;
  }
  label {
    font-size: 1em;
  }
}

    .dark-mode {
      background: #181a1b;
      color: #eee;
    }
    .dark-mode .container {
      background: #242526;
      box-shadow: 0 4px 24px rgba(36,38,38,0.08);
    }
    .dark-mode h1 {
      color: #f7df1e;
    }
    .dark-mode .code-textarea {
      background: #2c2f33;
      border-color: #444;
      color: #ddd;
    }
    .dark-mode .preview-panel iframe {
      border-color: #444;
      background: #2c2f33;
    }
    .dark-mode .console-output {
      background: #333;
      color: var(--accent);
    }
  </style>
</head>
<body>

  
  
  <div class="container">
    <h1><i class="fas fa-code"></i> Live Code Playground</h1>
    <div class="toolbar">
      <label><input type="checkbox" id="autoRun" checked> Auto-Run</label>
      <button id="runBtn" style="display:none;"><i class="fas fa-play"></i> Run</button>
      <button id="downloadBtn"><i class="fas fa-download"></i> Download</button>
      <input type="file" id="uploadBtn" />
      <label for="uploadBtn" style="margin:0;"><i class="fas fa-upload"></i> Upload</label>
      <button id="themeBtn" title="Toggle dark mode"><i class="fas fa-moon"></i></button>
    </div>
    <div class="editor-flex">
      <div class="editor-panel">
        <label for="htmlCode">HTML</label>
        <textarea id="htmlCode" class="code-textarea" placeholder="Enter your HTML code here">&lt;h2&gt;Hello, anime world!&lt;/h2&gt;</textarea>
        <label for="cssCode">CSS</label>
        <textarea id="cssCode" class="code-textarea" placeholder="Enter your CSS code here">h2 { color: #ffe066; font-family: 'Luckiest Guy', cursive; }</textarea>
        <label for="jsCode">JavaScript</label>
        <textarea id="jsCode" class="code-textarea" placeholder="Enter your JavaScript code here">console.log('Kawaii!');</textarea>
      </div>
      <div class="preview-panel">
        <label>Live Preview</label>
        <iframe id="preview"></iframe>
        <label>Console Output</label>
        <pre id="consoleOutput" class="console-output"></pre>
      </div>
    </div>
  </div>

    <footer style="margin-top:2.5rem; text-align:center; color:#888; font-size:1em; padding:1.5rem 0 0 0;">
    <div>
      <span>Â© 2025 WebDev Academy &mdash; Live Code Playground</span>
      <br>
      <span>
        Made with <i class="fas fa-heart" style="color:#e71d36;"></i> 
      </span>
    </div>
  </footer>

  <script>
    // Theme toggle
    const themeBtn = document.getElementById('themeBtn');
    themeBtn.onclick = function() {
      document.body.classList.toggle('dark-mode');
      if(document.body.classList.contains('dark-mode')) {
        document.body.style.background = '#181a1b';
        document.body.style.color = '#eee';
        themeBtn.innerHTML = '<i class="fas fa-sun"></i>';
      } else {
        document.body.style.background = '';
        document.body.style.color = '';
        themeBtn.innerHTML = '<i class="fas fa-moon"></i>';
      }
    };

    // Live Preview with console output capture
    function updatePreview() {
      const html = document.getElementById('htmlCode').value;
      const css = "<style>" + document.getElementById('cssCode').value + "</style>";
      const js = `
        <script>
          (function(){
            var log = [];
            var oldLog = console.log;
            console.log = function(...args){
              log.push(args.join(' '));
              oldLog.apply(console, args);
              parent.postMessage({type:'console',msg:log.join('\\n')},'*');
            };
          })();
          ${document.getElementById('jsCode').value}
        <\/script>
      `;
      const previewFrame = document.getElementById('preview');
      previewFrame.srcdoc = html + css + js;
    }
    window.addEventListener('message', function(e){
      if(e.data.type === 'console'){
        document.getElementById('consoleOutput').textContent = e.data.msg;
      }
    });

    // Auto-run and manual run toggle
    const autoRun = document.getElementById('autoRun');
    const runBtn = document.getElementById('runBtn');
    function maybeUpdatePreview() {
      if (autoRun.checked) updatePreview();
    }
    ['htmlCode','cssCode','jsCode'].forEach(id => {
      document.getElementById(id).addEventListener('input', maybeUpdatePreview);
    });
    autoRun.addEventListener('change', () => {
      runBtn.style.display = autoRun.checked ? 'none' : '';
    });
    runBtn.addEventListener('click', updatePreview);
    updatePreview();

    // Download code as HTML file
    document.getElementById('downloadBtn').onclick = function() {
      const html = document.getElementById('htmlCode').value;
      const css = document.getElementById('cssCode').value;
      const js = document.getElementById('jsCode').value;
      const blob = new Blob([html + '\n<style>' + css + '</style>\n<script>' + js + '<\/script>'], {type: 'text/html'});
      const a = document.createElement('a');
      a.href = URL.createObjectURL(blob);
      a.download = 'playground.html';
      a.click();
    };

    // Upload code from file
    document.getElementById('uploadBtn').onchange = function(e) {
      const file = e.target.files[0];
      if (!file) return;
      const reader = new FileReader();
      reader.onload = function(evt) {
        // Simple: load all as HTML (advanced: parse out <style> and <script>)
        document.getElementById('htmlCode').value = evt.target.result;
        updatePreview();
      };
      reader.readAsText(file);
    };
  </script>
</body>
</html>